{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/3676s/OneDrive/Documents/Document/mern project/shopping-react/cart-list/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/3676s/OneDrive/Documents/Document/mern project/shopping-react/cart-list/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/3676s/OneDrive/Documents/Document/mern project/shopping-react/cart-list/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/3676s/OneDrive/Documents/Document/mern project/shopping-react/cart-list/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//ProductForm.js\nimport React,{useState,useContext}from\"react\";import'../productForm/product-form.css';import EditContext from\"../Store/EditContext\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UpdateForm=function UpdateForm(props){var EditCtx=useContext(EditContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),resMsg=_useState2[0],setResMsg=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),resAddMsg=_useState4[0],setResAddMsg=_useState4[1];var _useState5=useState({productName:'',productPrice:'',productImage:'',productCreatedBy:''}),_useState6=_slicedToArray(_useState5,2),formInput=_useState6[0],setformInput=_useState6[1];var productNameHandler=function productNameHandler(event){setformInput(_objectSpread(_objectSpread({},formInput),{},{productName:event.target.value}));};var productPriceHandler=function productPriceHandler(event){setformInput(_objectSpread(_objectSpread({},formInput),{},{productPrice:event.target.value}));};var productImageHandler=function productImageHandler(event){setformInput(_objectSpread(_objectSpread({},formInput),{},{productImage:event.target.value}));};var productCreatedByHandler=function productCreatedByHandler(event){setformInput(_objectSpread(_objectSpread({},formInput),{},{//updated value preserve this then add\nproductCreatedBy:event.target.value}));};var formSubmitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:error='';console.log(\"Added to List!!\");if(formInput.productName===''&&error===''){error='Please Enter Product Name';setResMsg(error);}else if(formInput.productPrice===''&&error===''){error='Please Enter Product Price';setResMsg(error);}else if(formInput.productImage===''&&error===''){error='Please Enter Product Image';setResMsg(error);}else if(formInput.productCreatedBy===''&&error===''){error='Please Enter Product Creator';setResMsg(error);}else{// console.log(formInput);\neditProductData(formInput);// props.onProductAdded(true);\nconsole.log(\"Added to List!!\");}event.preventDefault();case 4:case\"end\":return _context.stop();}}},_callee);}));return function formSubmitHandler(_x){return _ref.apply(this,arguments);};}();var editProductData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(formData){var product,url,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;product={productName:formData.productName,productPrice:formData.productPrice,productImage:formData.productImage,productCreatedBy:formData.productCreatedBy};url=\"http://127.0.0.1:4001/product/update/\"+EditCtx.edit;_context2.next=5;return axios.put(url,product,{headers:{'Content-Type':'application/json'// 'x-auth-token':for protected\n}});case 5:result=_context2.sent;setResAddMsg(result.data.message);setResMsg('');// EditCtx.setProducts([...EditCtx.products,product])\n_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log('From error',_context2.t0.message);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function editProductData(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Update Product Description\"}),/*#__PURE__*/_jsx(\"div\",{children:resMsg}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formSubmitHandler,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Product Name\",onChange:productNameHandler})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Product Price\",onChange:productPriceHandler})}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Product Image\",onChange:productImageHandler})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Product Created By\",onChange:productCreatedByHandler})}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-input\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",children:\"Update\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"})]}),/*#__PURE__*/_jsx(\"div\",{children:resAddMsg})]});};","map":{"version":3,"names":["React","useState","useContext","EditContext","axios","UpdateForm","props","EditCtx","resMsg","setResMsg","resAddMsg","setResAddMsg","productName","productPrice","productImage","productCreatedBy","formInput","setformInput","productNameHandler","event","target","value","productPriceHandler","productImageHandler","productCreatedByHandler","formSubmitHandler","error","console","log","editProductData","preventDefault","formData","product","url","edit","put","headers","result","data","message"],"sources":["C:/Users/3676s/OneDrive/Documents/Document/mern project/shopping-react/cart-list/src/components/Admin/UpdateProduct.js"],"sourcesContent":["//ProductForm.js\r\nimport React, { useState,useContext } from \"react\";\r\nimport '../productForm/product-form.css';\r\nimport EditContext from \"../Store/EditContext\";\r\nimport axios from 'axios';\r\nexport let UpdateForm =(props)=>{\r\n    let EditCtx= useContext(EditContext)\r\n    let [resMsg,setResMsg]= useState('')\r\n    let [resAddMsg,setResAddMsg]= useState('')\r\n\r\n    \r\n    let [formInput,setformInput]= useState({\r\n        productName:'',\r\n        productPrice:'',\r\n        productImage:'',\r\n        productCreatedBy:''\r\n    })\r\n\r\n    let productNameHandler=(event)=>{\r\n        setformInput({\r\n            ...formInput,\r\n            productName:event.target.value\r\n        })\r\n        \r\n\r\n    }\r\n    let productPriceHandler=(event)=>{\r\n        setformInput({\r\n            ...formInput,\r\n            productPrice:event.target.value\r\n        })\r\n\r\n    }\r\n    let productImageHandler=(event)=>{\r\n        setformInput({\r\n            ...formInput,\r\n            productImage:event.target.value\r\n        })\r\n\r\n    }\r\n    let productCreatedByHandler=(event)=>{\r\n        setformInput({\r\n            ...formInput,//updated value preserve this then add\r\n            productCreatedBy:event.target.value\r\n        })\r\n\r\n    }\r\n\r\n    let formSubmitHandler= async (event)=>{\r\n        let error=''\r\n        console.log(`Added to List!!`);\r\n        if(formInput.productName==='' && error==='')\r\n        {\r\n            error='Please Enter Product Name'\r\n            setResMsg(error)\r\n        }\r\n        else if (formInput.productPrice==='' && error==='')\r\n        {\r\n            error='Please Enter Product Price'\r\n            setResMsg(error)\r\n        }\r\n        else if(formInput.productImage==='' && error==='')\r\n        {\r\n            error='Please Enter Product Image'\r\n            setResMsg(error)\r\n        }\r\n        else if(formInput.productCreatedBy==='' && error==='')\r\n        {\r\n            error='Please Enter Product Creator'\r\n            setResMsg(error)\r\n\r\n        }\r\n        else{\r\n            // console.log(formInput);\r\n            editProductData(formInput)\r\n            // props.onProductAdded(true);\r\n            console.log(`Added to List!!`);\r\n        }\r\n        event.preventDefault()\r\n\r\n    }\r\n    const editProductData= async (formData)=>{\r\n        try{\r\n        let product ={\r\n            productName:formData.productName,\r\n            productPrice:formData.productPrice,\r\n            productImage:formData.productImage,\r\n            productCreatedBy:formData.productCreatedBy\r\n        }\r\n        \r\n        const url=\"http://127.0.0.1:4001/product/update/\"+EditCtx.edit\r\n            let result = await axios.put(url,product,{\r\n                headers:{\r\n                    'Content-Type':'application/json',\r\n                    // 'x-auth-token':for protected\r\n                }\r\n            })\r\n            setResAddMsg(result.data.message)\r\n            setResMsg('')\r\n            // EditCtx.setProducts([...EditCtx.products,product])\r\n        }\r\n        catch(err){\r\n            console.log('From error',err.message);\r\n        }\r\n\r\n    }\r\n\r\n    return(\r\n        <div className=\"form-container\">\r\n            \r\n            <h1 className=\"title\" >Update Product Description</h1>\r\n            <div>{resMsg}</div>\r\n            <form onSubmit={formSubmitHandler}>\r\n            <div className=\"form-input\">\r\n                    <input type=\"text\" placeholder=\"Product Name\" onChange={productNameHandler}/>\r\n                </div>\r\n                <div className=\"form-input\">\r\n                    <input type=\"text\" placeholder=\"Product Price\"onChange={productPriceHandler}/>\r\n                </div>\r\n                <div className=\"clearfix\"></div>\r\n                <div className=\"form-input\">\r\n                    <input type=\"text\" placeholder=\"Product Image\"onChange={productImageHandler}/>\r\n                </div>\r\n                <div className=\"form-input\">\r\n                    <input type=\"text\" placeholder=\"Product Created By\"onChange={productCreatedByHandler}/>\r\n                </div>\r\n                <div className=\"clearfix\"></div>\r\n\r\n                <div className=\"form-input\">\r\n                    <button className=\"btn btn-secondary\">Update</button>\r\n                </div>\r\n                <div className=\"clearfix\"></div>\r\n                \r\n\r\n            </form>\r\n            <div>{resAddMsg}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}